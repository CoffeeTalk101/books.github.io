<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>使用EPUB格式写笔记的体验</title>
  <meta name="keywords" content="Others"/>
  <link href="../Styles/Style0001.css" type="text/css" rel="stylesheet"/>
</head>

<body>
<h1>使用EPUB格式写笔记的体验</h1>

<p class="date">2022-11-25</p>

<a class="home" href="https://xdcsy.github.io/">&lt; view all posts</a>

<p>用EPUB作为笔记的格式已经有5年了，期间写了四五本笔记，这本是其中之一。我对EPUB作为笔记的体验还是很满意的，这篇记录一下选择EPUB格式来记笔记的优缺点，以及一些使用上的经验。</p>

<p>首先总结一下常用的DOCX和markdown格式各自的一些（我认为的）问题。也是我为什么没有选择这两种格式的原因。</p>

<p>DOCX格式的问题：</p>

<ol>
    <li>尽管DOCX的底层是基于XML的，但只能使用富文本模式编辑，导致文本的格式不清晰，容易存在隐藏的问题.</li>
    <li>默认设置会压缩图片质量，且提取图片要靠一张一张手动另存为.</li>
    <li>阅读和编辑不分离，在阅读时容易误改文件内容.</li>
</ol>


<p>markdown格式（以及部分兼容md的笔记软件）的问题：</p>

<ol>
    <li>表达能力有限，以至于很多时候还是需要用上HTML.</li>
    <li>方言过多，且很多markdown笔记软件添加了魔改的功能和格式等，导致此类笔记和商业软件事实上强绑定.</li>
    <li>图片和文本分离存储，移动、重命名时容易导致问题.</li>
    <li>并不是很适合中文的书写逻辑（个人感受）.</li>
</ol>

<p>相对的，我认为EPUB格式具有的一些优点：</p>

<ol>
    <li>EPUB本质是zip打包的XHTML文件（和引用的资源文件），格式都在内容当中显式声明，不会出现富文本编辑的隐式格式乱套的问题.</li>
    <li>支持自定义CSS，表现上有较高的自由度.</li>
    <li>图片等文件压缩保存于同一文件中，紧凑.</li>
    <li>支持完全离线的存储、编辑、阅读.</li>
    <li>阅读和编辑分离，阅读时避免误改.</li>
    <li>大多数配套工具开源，没有商业支持停止的问题.</li>
</ol>

<p>当然，EPUB格式也有一些缺点：</p>

<ol>
    <li>阅读器的实现五花八门，体验不统一.</li>
    <li>因为打包为一个二进制文件，对文字内容的版本控制不方便.</li>
    <li>需要手写XHTML.</li>
    <li>准备CSS等的前期投入成本较大.</li>
</ol>

<p>不过对于这些缺点，其实都有一些弥补的办法，以下几条和上面一一对应：</p>

<ol>
    <li>因为epub本质是打包的XHTML文件，永远都可以把浏览器作为阅读器使用。例如，可以将epub解压并格式化为一个网站（比如利用我开发的 <a href="https://github.com/XDcsy/epub_to_website">epub_to_website</a> 工具），这样至少能够保证在浏览器上总是有同样的阅读体验.</li>
    <li>可以使用 <a href="https://sigil-ebook.com/">Sigil</a> 软件编辑epub，Sigil内置了Git风格的版本控制（快照）功能.</li>
    <li>通过设置合适的快捷键和准备好模板文件，手写XHTML的速度也可以很快（当然，有需要的话也可以利用所见即所得的编辑器来自动生成）.</li>
    <li>有不少开源的epub用CSS模板，利用它们可以省去很多前期准备的成本。在调整好一份合适的模板之后，可以一直沿用下去.</li>
</ol>

<p>最后是一些使用上面的经验：</p>

<ol>
    <li>关于编辑器，上面也提到了，<a href="https://sigil-ebook.com/">Sigil</a> 是我认为最好用的。Sigil支持自定义快捷键，还有快捷插入Clip的功能，配置好之后很方便.</li>
    <li>关于阅读器，Calibre之类的老牌阅读器虽然名声在外，但是个人感受是它们更适合书籍的阅读和管理，用来读笔记显得比较繁重。我喜欢使用的是Chrome上面的 <a href="https://www.epubread.com/en/">EPUBReader</a> 这个插件。这个插件支持上下滚动式阅读、自定义字体大小、自定义页面两侧留白大小等，且因为是基于Chrome的，对各种样式的展示都很不错。除了这些必要功能，没有其它的累赘，十分轻量.</li>
    <li>此外，GitHub上面还有一些基于 <a href="https://github.com/futurepress/epub.js">epub.js</a> 的阅读软件（插件），可以作为备选.</li>
</ol>



<hr/>
<p class="footer">This blog is written in  EPUB.
The original file is available for <a href="https://github.com/XDcsy/XDcsy.github.io/raw/main/blog.epub">download</a>.</p>
<p class="footer">Feel free to comment by <a href="https://github.com/XDcsy/XDcsy.github.io/issues/new">raising an issue <img alt="GitHub-Mark-32px" src="../Images/GitHub-Mark-32px.png" class="github"/></a>.</p>
</body>
</html>